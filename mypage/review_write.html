<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>나의 미션 팝업</title>
<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- CSS -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" /> <!--AOS 애니메이션-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" /> <!--스와이퍼-->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/pikaday/css/pikaday.css">
<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.3/themes/base/jquery-ui.css">
<link rel="stylesheet" href="../css/common.css" />
<link rel="stylesheet" href="../css/custom.css" />
<link rel="stylesheet" href="../css/design.css" />
<!-- JS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.js"></script>
<script src="../js/common.js"></script>
</head>
<body>
<section class="window_contents">
    <div class="win_head">
        <h3>상품리뷰</h3>
        <a class="close_btn" ><img src="../img/icon_close2.svg"></a>
    </div>
    <table id="review_write" class="table_text">
        <tr>
            <th>별점</th>
            <td>
                <div class="star-rating">
                    <input type="radio" id="5-stars" name="rating" value="5" />
                    <label for="5-stars"></label>
                    <input type="radio" id="4-stars" name="rating" value="4" />
                    <label for="4-stars"></label>
                    <input type="radio" id="3-stars" name="rating" value="3" />
                    <label for="3-stars"></label>
                    <input type="radio" id="2-stars" name="rating" value="2" />
                    <label for="2-stars"></label>
                    <input type="radio" id="1-star" name="rating" value="1" />
                    <label for="1-star"></label>
                </div>
            </td>
        </tr>
        <script>
            document.querySelectorAll('.star-rating input').forEach(star => {
                star.addEventListener('change', () => {
                });
            });
        </script>
        <tr>
            <th>내용</th>
            <td width="388px">
                <textarea minlength="20" maxlength="1000" placeholder="내용을 입력해주세요."></textarea>
            </td>
        </tr>
        <tr>
            <th>이미지</th>
            <td>
                <div>
                    <label class="imgfile">
                        <img class="icon" src="../img/icon_plus.svg">
                        <input name="imgfile" type="file" accept=".png, .jpg">
                    </label>
                    <p class="comment on">* 10MB 이하 JPG, PNG만 등록 가능합니다.</p>
                </div>
            </td>
        </tr>
    </table>
    <button type="submit">확인</button>
    <script>
        $('.close_btn').on('click',function(){
            window.close();
        });
        $('input[name="imgfile"]').on('change', function(event) {
        const input = event.target;
        const label = $(input).parent();
        const file = input.files[0];

        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = $('<img>').attr('src', e.target.result);
                // 기존의 이미지가 있으면 제거
                label.find('img').remove();
                // 새 이미지를 추가
                label.append(img);
                // 아이콘지우기
                label.find('i').hide();
            };
            reader.readAsDataURL(file);
        }
        });
    </script>
</section>
</body>
</html>